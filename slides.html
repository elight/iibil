<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta charset='utf-8'>
    <meta content='width=1024, user-scalable=no' name='viewport'>
    <!-- deck.js's core css -->
    <link href="deck.js/core/deck.core.css" rel="stylesheet" type="text/css"/>
    <!-- deck.js extension CSS files -->
    <link href="deck.js/extensions/codemirror/deck.codemirror.css" rel="stylesheet" type="text/css"/>
    <link href="deck.js/extensions/goto/deck.goto.css" rel="stylesheet" type="text/css"/>
    <link href="deck.js/extensions/hash/deck.hash.css" rel="stylesheet" type="text/css"/>
    <link href="deck.js/extensions/menu/deck.menu.css" rel="stylesheet" type="text/css"/>
    <link href="deck.js/extensions/navigation/deck.navigation.css" rel="stylesheet" type="text/css"/>
    <link href="deck.js/extensions/scale/deck.scale.css" rel="stylesheet" type="text/css"/>
    <link href="deck.js/extensions/status/deck.status.css" rel="stylesheet" type="text/css"/>
    <!-- all css in the css dir: Keydown CSS, your custom CSS, and themes from deck.js -->
    <link href="css/keydown.css" rel="stylesheet" type="text/css"/>
    <link href="css/default.css" rel="stylesheet" type="text/css"/>
    <link href="css/horizontal-slide.css" rel="stylesheet" type="text/css"/>
    <link href="css/iibil.css" rel="stylesheet" type="text/css"/>
    <link href="css/swiss.css" rel="stylesheet" type="text/css"/>
    <!-- Modernizr (provided for legacy browsers) -->
    <script src="deck.js/support/modernizr.custom.js" type="text/javascript"></script>
  </head>
  <body class='deck-container keydown'>
    <section class='middle slide'>
  <div class='spacer top'></div>
  <div class='content'>
    <h1>Evan Light</h1>

<h2><strong><u>Freelance Code Janitor</u></strong></h2>

<h2><a href="http://twitter.com/elight">@elight</a></h2>

<h2><a href="mailto:evan.light@tripledogdare.net">evan.light@tripledogdare.net</a></h2>
  </div>
  <div class='spacer bottom'></div>
</section>
    <section class='slide'>
  <div class='spacer top'></div>
  <div class='content'>
    <pre><code>I have a set of alarm bells that go off when people say, "Always do this".
</code></pre>

<p>-- Martin Fowler, POEAA</p>
  </div>
  <div class='spacer bottom'></div>
</section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Why?</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='full-background jarjar slide top-left'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>If it bleeds...</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='bottom-right full-background jarjar slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>... it leads</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='full-background middle slide stuff_i_do'>
      <div class='spacer top'></div>
      <div class='content'>
        
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>PATTERN</h1>
        
        <h2>noun /ˈpatərn/</h2>
        
        <h2>A form or model proposed for imitation : exemplar.</h2>
        
        <h5><a href="http://www.merriam-webster.com/dictionary/pattern">Source: Meriam-Webster</a></h5>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Step 1</h1>
        
        <h1>Identify practice</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Step 2</h1>
        
        <h1>Name practices</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Pattern ends here</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
  <div class='spacer top'></div>
  <div class='content'>
    <h1>But then we automate what we can predict</h1>
  </div>
  <div class='spacer bottom'></div>
</section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Step 3</h1>
        
        <h1>Partially implement pattern as tools</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Step 4</h1>
        
        <h1>Best practices for tools</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Step 5</h1>
        
        <h1>Identify holes in tools</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
  <div class='spacer top'></div>
  <div class='content'>
    <h1>Step 6</h1>

<p><code>
GOTO 1
</code></p>
  </div>
  <div class='spacer bottom'></div>
</section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>PATTERN (software)</h1>
        
        <h2>noun /ˈpatərn/</h2>
        
        <h2>A set of concepts outlining a partial solution to a common technical problem</h2>
        
        <h6>Source: Me</h6>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Rails</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Rais as POEAA patterns</h1>
        
        <h2>Active Record</h2>
        
        <h2>Model View Controller</h2>
        
        <h2>Front Controller</h2>
        
        <h2>Template View</h2>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
  <div class='spacer top'></div>
  <div class='content'>
    <h1>Post-Rails Rails Patterns</h1>

<h2><a href="http://blog.jayfields.com/2007/03/rails-presenter-pattern.html">Presenter</a> (<a href="https://github.com/jcasimir/draper">gem</a>)</h2>

<h2><a href="http://objectsonrails.com/">Exhibit</a> (<a href="https://github.com/objects-on-rails/display-case">gem</a>)</h2>

<h2><a href="http://pivotallabs.com/form-backing-objects-for-fun-and-profit/">Form Objects</a> (<a href="https://github.com/ClearFit/redtape">gem</a>)</h2>

<h2><a href="https://github.com/bitlove/objectify">Policy Objects</a></h2>

<h2><a href="http://dci-in-ruby.info/">DCI</a></h2>

<h2><a href="http://jamesgolick.com/2010/3/14/crazy-heretical-and-awesome-the-way-i-write-rails-apps.html">Service Object</a> (<a href="https://github.com/bitlove/objectify">gem</a></h2>
  </div>
  <div class='spacer bottom'></div>
</section>
    <section class='slide'>
  <div class='spacer top'></div>
  <div class='content'>
    <h1>Layering</h1>

<h2>e.g., Presenters/Exhibits as layer between Model and View in MVC.</h2>
  </div>
  <div class='spacer bottom'></div>
</section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <p>!</p>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
  <div class='spacer top'></div>
  <div class='content'>
    <h1><a href="http://www.martinfowler.com/eaaCatalog/activeRecord.html">Active Record</a></h1>

<pre><code>An object that wraps a row in a database table or view, encapsulates the database access, and adds domain logic on that data.
</code></pre>
  </div>
  <div class='spacer bottom'></div>
</section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Hypothesis</h1>
        
        <h2>Any non-trivial Rails contains either bloated ActiveRecord::Base subclasses or non-ActiveRecord domain model classes</h2>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>The Popular thinking: persistence and domain logic should not coexist in a Rails app due to model bloat</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
  <div class='spacer top'></div>
  <div class='content'>
    <h1>Are we doing it wrong?</h1>

<pre><code>If the \[database table to domain model\] mapping is simple, Active Record (160) does the same job without an additional layer of code. If the mapping is complex, Data Mapper (165) works better, as it's better at decoupling the data structure from the domain objects
</code></pre>

<p>-- Martin Fowler, POEAA</p>
  </div>
  <div class='spacer bottom'></div>
</section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Possible Solution: Data Mapper</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Clear separation between data source, data mapping, and domain model</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>What's keeping us?</h1>
        
        <h2><a href="http://datamapper.org">DataMapper</a> is not a true <a href="http://martinfowler.com/eaaCatalog/dataMapper.html">Data Mapper</a></h2>
        
        <h2><a href="https://github.com/datamapper">DataMapper 2</a> is still WIP</h2>
        
        <h2>For instance, DM2 doesn't have an official <a href="http://martinfowler.com/eaaCatalog/unitOfWork.html">Unit of Work</a> (application-level notion of transaction) impl.</h2>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>When and how do we use these newer patterns?</h1>
        
        <h2>Buy the book</h2>
        
        <h2>Read the blog post(s)</h2>
        
        <h2>Read the source</h2>
        
        <h2>Listen to the conference talk</h2>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Welcome to the bleeding edge</h1>
        
        <h2>Book? Ha!</h2>
        
        <h2>Blog post? Maybe one or two</h2>
        
        <h2>Conference talk? Maybe one or two but weaker examples than a good blog post.</h2>
        
        <h2>Source? Oh, you want me to build this pattern <strong>for you</strong>? Ha!</h2>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>More moving parts</h1>
        
        <h2>In addition to Rails</h2>
        
        <h2>Add more complexity due to more types</h2>
        
        <h2>More files/nouns per project</h2>
        
        <h2>Easy things easy and hard things possible</h2>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Maybe these are the wrong patterns</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>NEOPHILIA</h1>
        
        <h1>&nbsp;</h1>
        
        <h1>&nbsp;</h1>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>NEOPHILIA</h1>
        
        <h2>noun \nē-ə-ˈfi-lē-ə\</h2>
        
        <h2>love of or enthusiasm for what is new or novel</h2>
        
        <h6><a href="http://www.merriam-webster.com/dictionary/neophilia">Source: Merriam-Webster</a></h6>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <section class='slide'>
      <div class='spacer top'></div>
      <div class='content'>
        <h1>Sources</h1>
        
        <h2>Martin Fowler, <a href="http://www.amazon.com/Patterns-Enterprise-Application-Architecture-Martin/dp/0321127420">Patterns of Enterprise Application Architecture</a></h2>
      </div>
      <div class='spacer bottom'></div>
    </section>
    <!-- deck.js navigation extension -->
    <a class='deck-prev-link' href='#' title='Previous'>&#8592;</a>
    <a class='deck-next-link' href='#' title='Next'>&#8594;</a>
    <!-- deck.js hash extension -->
    <a class='deck-permalink' href='.' title='Permalink to this slide'>#</a>
    <!-- deck.js status extension -->
    <p class='deck-status'>
      <span class='deck-status-current'></span>
      /
      <span class='deck-status-total'></span>
    </p>
    <!-- jQuery & deck.js -->
    <script src="deck.js/support/jquery.1.6.4.min.js" type="text/javascript"></script>
    <script src="deck.js/core/deck.core.js" type="text/javascript"></script>
    <!-- deck.js extension JS files -->
    <script src="deck.js/extensions/codemirror/codemirror.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/deck.codemirror.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/clike/clike.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/clojure/clojure.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/coffeescript/coffeescript.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/css/css.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/diff/diff.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/haskell/haskell.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/htmlmixed/htmlmixed.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/javascript/javascript.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/lua/lua.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/php/php.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/plsql/plsql.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/python/python.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/r/r.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/rst/rst.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/ruby/ruby.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/scheme/scheme.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/smalltalk/smalltalk.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/sparql/sparql.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/stex/stex.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/velocity/velocity.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/xml/xml.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/xmlpure/xmlpure.js" type="text/javascript"></script>
    <script src="deck.js/extensions/codemirror/mode/yaml/yaml.js" type="text/javascript"></script>
    <script src="deck.js/extensions/goto/deck.goto.js" type="text/javascript"></script>
    <script src="deck.js/extensions/hash/deck.hash.js" type="text/javascript"></script>
    <script src="deck.js/extensions/menu/deck.menu.js" type="text/javascript"></script>
    <script src="deck.js/extensions/navigation/deck.navigation.js" type="text/javascript"></script>
    <script src="deck.js/extensions/scale/deck.scale.js" type="text/javascript"></script>
    <script src="deck.js/extensions/status/deck.status.js" type="text/javascript"></script>
    <!-- your custom JS here, including call to initialize deck.js-codemirror -->
    <script src="js/iibil.js" type="text/javascript"></script>
    <!-- Initialize the deck. -->
    <script type='text/javascript'>
      $(function() { $.deck('.slide'); });
    </script>
  </body>
</html>
